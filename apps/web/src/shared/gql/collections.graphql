query Collections {
  collections {
    id
    name
    description
    documents {
      id
      title
      content
    }
  }
}

query Collection($collectionId: Int!) {
  collection(collectionId: $collectionId) {
    id
    name
    description
    documents {
      id
      title
      content
      author {
        role
        status
        id
        email
        firstName
        lastName
      }
    }
  }
}

query CollectionDocuments($collectionId: Int!) {
  collection(collectionId: $collectionId) {
    documents {
      id
      title
      collectionId
      children {
        id
        title
        collectionId
      }
    }
  }
}

mutation CreateCollection($createCollectionInput: CreateCollectionInput!) {
  createCollection(createCollectionInput: $createCollectionInput) {
    id
    name
    description
  }
}

mutation UpdateCollection($updateCollectionInput: UpdateCollectionInput!) {
  updateCollection(updateCollectionInput: $updateCollectionInput) {
    id
    name
    description
  }
}

mutation DeleteCollection($deleteCollectionInput: DeleteCollectionInput!) {
  deleteCollection(deleteCollectionInput: $deleteCollectionInput) {
    id
    name
    description
  }
}

subscription QueryCollection($queryCollectionInput: QueryCollectionInput!) {
  queryCollection(queryCollectionInput: $queryCollectionInput) {
    token
    completed
  }
}

mutation InviteUserToCollection($inviteUserToCollectionInput: InviteUserToCollectionInput!) {
  inviteUserToCollection(inviteUserToCollectionInput: $inviteUserToCollectionInput) {
    id
    collectionId
    inviterEmail
    inviteeEmail
    role
    token
    expiresAt
    createdAt
    collection {
      id
      name
      description
    }
  }
}

mutation AcceptCollectionInvite($acceptCollectionInviteInput: AcceptCollectionInviteInput!) {
  acceptCollectionInvite(acceptCollectionInviteInput: $acceptCollectionInviteInput) {
    id
    name
    description
  }
}

mutation GenerateCollectionShareLink($generateCollectionShareLinkInput: GenerateCollectionShareLinkInput!) {
  generateCollectionShareLink(generateCollectionShareLinkInput: $generateCollectionShareLinkInput) {
    url
    token
    role
    expiresAt
  }
}

mutation JoinCollectionByShareLink($token: String!) {
  joinCollectionByShareLink(token: $token) {
    id
    name
    description
  }
}

mutation RemoveUserFromCollection($removeUserFromCollectionInput: RemoveUserFromCollectionInput!) {
  removeUserFromCollection(removeUserFromCollectionInput: $removeUserFromCollectionInput) {
    user {
      id
      email
      firstName
      lastName
    }
    role
    joinedAt
  }
}

query CollectionMembers($collectionId: Int!) {
  collectionMembers(collectionId: $collectionId) {
    user {
      id
      email
      firstName
      lastName
    }
    role
    joinedAt
  }
}

query CollectionPendingInvites($collectionId: Int!) {
  collectionPendingInvites(collectionId: $collectionId) {
    id
    inviterEmail
    inviteeEmail
    role
    expiresAt
    createdAt
  }
}

query CollectionShareLinks($collectionId: Int!) {
  collectionShareLinks(collectionId: $collectionId) {
    id
    role
    token
    expiresAt
    createdAt
  }
}

mutation DeleteCollectionShareLink($shareLinkId: String!) {
  deleteCollectionShareLink(shareLinkId: $shareLinkId) {
    id
  }
}
